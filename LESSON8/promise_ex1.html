<!DOCTYPE html>
<html>
<head>
  <title>Promise Example</title>
</head>
<body>
  <h1>Promise Example</h1>

  <script>
    function delay(ms) {
      return new Promise((resolve, reject) => {
        setTimeout(() => {
          resolve("Hoàn thành sau " + ms + " milliseconds");
        }, ms);
      });
    }

    // Sử dụng Promise
    console.log("Bắt đầu");
    delay(2000)
      .then(result => {
        console.log(result); // "Hoàn thành sau 2000 milliseconds"
        return delay(1000);
      })
      .then(result => {
        console.log(result); // "Hoàn thành sau 1000 milliseconds"
        return delay(1500);
      })
      .then(result => {
        console.log(result); // "Hoàn thành sau 1500 milliseconds"
        throw new Error("Lỗi xảy ra");
      })
      .catch(error => {
        console.error(error); // "Lỗi xảy ra"
      })
      .finally(() => {
        console.log("Kết thúc");
      });
  </script>
</body>
</html>
